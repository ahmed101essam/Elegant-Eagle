<style>
  .swiper {
    width: 100%;
    padding: 20px 0 50px 0;
  }

  .swiper-slide {
    width: auto;
  }

  .swiper-button-next,
  .swiper-button-prev {
    color: #ecc689;
    background-color: #939498;
    font-size: 14px;
    width: 40px;
    height: 40px;
    border-radius: 100%;
  }
  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 30px;
  }

  .swiper-pagination-bullet-active {
    background: #ecc689;
  }
</style>

{% assign is_rtl = false %}
{% if request.locale.iso_code == 'ar' %}
  {% assign is_rtl = true %}
{% endif %}

<div class="max-w-6xl mx-auto" dir="{% if is_rtl %}rtl{% else %}ltr{% endif %}">
  <!-- Hero Section -->
  <div
    class="hero h-48 md:h-96 mt-12 p-2"
    style="{% if is_rtl %}{% if section.settings.background_image_ar %}background-image: url('{{ section.settings.background_image_ar | image_url: width: 1920 }}');{% endif %}{% else %}{% if section.settings.background_image_en %}background-image: url('{{ section.settings.background_image_en | image_url: width: 1920 }}');{% endif %}{% endif %} background-size: cover; background-position: center;"
  >
    <div class="h-full border-double border-6 border-[#ECC689] p-2 md:p-6 flex flex-col gap-1 md:gap-2 justify-end">
      <h2 class="text-md md:text-4xl m-0 font-[raleway] font-bold md:font-medium">
        {% if is_rtl %}
          {{ section.settings.heading_ar }}
        {% else %}
          {{ section.settings.heading_en }}
        {% endif %}
      </h2>
      <p class="text-lg md:text-xl">
        {% if is_rtl %}
          {{ section.settings.subheading_ar }}
        {% else %}
          {{ section.settings.subheading_en }}
        {% endif %}
      </p>
      <a
        class="block mt-1 py-0.5 px-3 text-lg md:py-2 md:px-8 md:text-xl w-fit rounded-full text-white font-medium cursor-pointer bg-[#ECC689] hover:bg-[#F9E2A9]"
        href="{{ section.settings.button_link }}"
      >
        {%- if is_rtl -%}
          {{ section.settings.button_text_ar }}
        {%- else -%}
          {{ section.settings.button_text_en }}
        {%- endif -%}
      </a>
    </div>
  </div>

  <!-- New Arrivals Section -->
  <div class="new-collection mt-20">
    <h3 class="text-3xl my-3 text-center text-[#ECC689]">{{ 'homepage.new_arrivals' | t }}</h3>

    {% assign new_products = collections.all.products | sort: 'created_at' | reverse | limit: 8 %}
    <div class="new-products swiper newProductsSwiper">
      <div class="swiper-wrapper px-3">
        {% for product in new_products %}
          <div class="swiper-slide">
            <a href="{{ product.url }}">
              <div class="product-card border border-[#ECC689] p-2">
                <div class="border border-[#ECC689] w-full overflow-hidden h-60">
                  <img
                    width=""
                    height=""
                    src="{{ product.featured_image | image_url:medium }}"
                    class="w-full h-full object-cover transition duration-500 hover:scale-125"
                  >
                </div>
                <div>
                  <p class="text-lg font-medium my-2 w-full text-ellipsis text-nowrap">
                    {{ product.title | truncate: 30 }}
                  </p>
                  <p class="font-bold">{{ product.price | money }}</p>
                </div>
              </div>
            </a>
          </div>
        {% endfor %}
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>
  </div>

  <div class="flex justify-center mb-20">
    <a
      href="{{ routes.all_products_collection_url }}"
      class="bg-[#ecc689] text-white px-4 py-2 font-medium rounded-full hover:bg-[#F9E2A9] transition"
    >
      {{- 'homepage.shop_all' | t -}}
    </a>
  </div>

  <!-- Featured Collections Section -->
  <div class="featured-collections mt-20 px-3">
    <h3 class="text-3xl my-8 text-center text-[#ECC689]">
      {% if is_rtl %}
        {{ section.settings.collections_heading_ar }}
      {% else %}
        {{ section.settings.collections_heading_en }}
      {% endif %}
    </h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {% if section.settings.collection_1 != blank %}
        <a href="{{ collections[section.settings.collection_1].url }}" class="group">
          <div class="border-double border-4 border-[#ECC689] overflow-hidden">
            <img
              src="{{ collections[section.settings.collection_1].image | image_url: width: 600 }}"
              alt="{{ collections[section.settings.collection_1].title }}"
              class="w-full h-64 object-cover transition duration-500 group-hover:scale-110"
            >
          </div>
          <h4 class="text-xl font-medium text-center mt-3 text-[#ECC689]">
            {{ collections[section.settings.collection_1].title }}
          </h4>
        </a>
      {% endif %}

      {% if section.settings.collection_2 != blank %}
        <a href="{{ collections[section.settings.collection_2].url }}" class="group">
          <div class="border-double border-4 border-[#ECC689] overflow-hidden">
            <img
              src="{{ collections[section.settings.collection_2].image | image_url: width: 600 }}"
              alt="{{ collections[section.settings.collection_2].title }}"
              class="w-full h-64 object-cover transition duration-500 group-hover:scale-110"
            >
          </div>
          <h4 class="text-xl font-medium text-center mt-3 text-[#ECC689]">
            {{ collections[section.settings.collection_2].title }}
          </h4>
        </a>
      {% endif %}

      {% if section.settings.collection_3 != blank %}
        <a href="{{ collections[section.settings.collection_3].url }}" class="group">
          <div class="border-double border-4 border-[#ECC689] overflow-hidden">
            <img
              src="{{ collections[section.settings.collection_3].image | image_url: width: 600 }}"
              alt="{{ collections[section.settings.collection_3].title }}"
              class="w-full h-64 object-cover transition duration-500 group-hover:scale-110"
            >
          </div>
          <h4 class="text-xl font-medium text-center mt-3 text-[#ECC689]">
            {{ collections[section.settings.collection_3].title }}
          </h4>
        </a>
      {% endif %}
    </div>
  </div>

  <!-- About/Values Section -->
  <div class="values-section mt-20 px-3">
    <div class="border-double border-4 border-[#ECC689] p-6 md:p-12">
      <h3 class="text-3xl text-center text-[#ECC689] mb-8">
        {% if is_rtl %}
          {{ section.settings.values_heading_ar }}
        {% else %}
          {{ section.settings.values_heading_en }}
        {% endif %}
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="text-center">
          <div class="border border-[#ECC689] rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
            <span class="text-2xl text-[#ECC689]">✦</span>
          </div>
          <h4 class="text-xl font-medium mb-2 text-[#ECC689]">
            {% if is_rtl %}
              {{ section.settings.value_1_title_ar }}
            {% else %}
              {{ section.settings.value_1_title_en }}
            {% endif %}
          </h4>
          <p class="text-gray-600">
            {% if is_rtl %}
              {{ section.settings.value_1_text_ar }}
            {% else %}
              {{ section.settings.value_1_text_en }}
            {% endif %}
          </p>
        </div>

        <div class="text-center">
          <div class="border border-[#ECC689] rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
            <span class="text-2xl text-[#ECC689]">✦</span>
          </div>
          <h4 class="text-xl font-medium mb-2 text-[#ECC689]">
            {% if is_rtl %}
              {{ section.settings.value_2_title_ar }}
            {% else %}
              {{ section.settings.value_2_title_en }}
            {% endif %}
          </h4>
          <p class="text-gray-600">
            {% if is_rtl %}
              {{ section.settings.value_2_text_ar }}
            {% else %}
              {{ section.settings.value_2_text_en }}
            {% endif %}
          </p>
        </div>

        <div class="text-center">
          <div class="border border-[#ECC689] rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
            <span class="text-2xl text-[#ECC689]">✦</span>
          </div>
          <h4 class="text-xl font-medium mb-2 text-[#ECC689]">
            {% if is_rtl %}
              {{ section.settings.value_3_title_ar }}
            {% else %}
              {{ section.settings.value_3_title_en }}
            {% endif %}
          </h4>
          <p class="text-gray-600">
            {% if is_rtl %}
              {{ section.settings.value_3_text_ar }}
            {% else %}
              {{ section.settings.value_3_text_en }}
            {% endif %}
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Testimonials Section -->
  <div class="testimonials mt-20 px-3 mb-20">
    <h3 class="text-3xl my-8 text-center text-[#ECC689]">
      {% if is_rtl %}
        {{ section.settings.testimonials_heading_ar }}
      {% else %}
        {{ section.settings.testimonials_heading_en }}
      {% endif %}
    </h3>
    <div class="swiper testimonialsSwiper">
      <div class="swiper-wrapper">
        {% if section.settings.testimonial_1_text_en != blank or section.settings.testimonial_1_text_ar != blank %}
          <div class="swiper-slide">
            <div class="border-double border-4 border-[#ECC689] p-6 md:p-8 h-full">
              <p class="text-lg italic mb-4">
                "
                {%- if is_rtl -%}
                  {{ section.settings.testimonial_1_text_ar }}
                {%- else -%}
                  {{ section.settings.testimonial_1_text_en }}
                {%- endif -%}
                "
              </p>
              <p class="text-[#ECC689] font-medium">
                —
                {%- if is_rtl -%}
                  {{ section.settings.testimonial_1_author_ar }}
                {%- else -%}
                  {{ section.settings.testimonial_1_author_en }}
                {%- endif -%}
              </p>
            </div>
          </div>
        {% endif %}

        {% if section.settings.testimonial_2_text_en != blank or section.settings.testimonial_2_text_ar != blank %}
          <div class="swiper-slide">
            <div class="border-double border-4 border-[#ECC689] p-6 md:p-8 h-full">
              <p class="text-lg italic mb-4">
                "
                {%- if is_rtl -%}
                  {{ section.settings.testimonial_2_text_ar }}
                {%- else -%}
                  {{ section.settings.testimonial_2_text_en }}
                {%- endif -%}
                "
              </p>
              <p class="text-[#ECC689] font-medium">
                —
                {%- if is_rtl -%}
                  {{ section.settings.testimonial_2_author_ar }}
                {%- else -%}
                  {{ section.settings.testimonial_2_author_en }}
                {%- endif -%}
              </p>
            </div>
          </div>
        {% endif %}

        {% if section.settings.testimonial_3_text_en != blank or section.settings.testimonial_3_text_ar != blank %}
          <div class="swiper-slide">
            <div class="border-double border-4 border-[#ECC689] p-6 md:p-8 h-full">
              <p class="text-lg italic mb-4">
                "
                {%- if is_rtl -%}
                  {{ section.settings.testimonial_3_text_ar }}
                {%- else -%}
                  {{ section.settings.testimonial_3_text_en }}
                {%- endif -%}
                "
              </p>
              <p class="text-[#ECC689] font-medium">
                —
                {%- if is_rtl -%}
                  {{ section.settings.testimonial_3_author_ar }}
                {%- else -%}
                  {{ section.settings.testimonial_3_author_en }}
                {%- endif -%}
              </p>
            </div>
          </div>
        {% endif %}
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>
  </div>

  <!-- Newsletter Section -->
  <div class="newsletter mt-20 mb-20 px-3">
    <div class="border-double border-4 border-[#ECC689] p-8 md:p-12 text-center">
      <h3 class="text-3xl text-[#ECC689] mb-4">
        {% if is_rtl %}
          {{ section.settings.newsletter_heading_ar }}
        {% else %}
          {{ section.settings.newsletter_heading_en }}
        {% endif %}
      </h3>
      <p class="text-lg mb-6">
        {% if is_rtl %}
          {{ section.settings.newsletter_text_ar }}
        {% else %}
          {{ section.settings.newsletter_text_en }}
        {% endif %}
      </p>
      <form action="/contact#newsletter" method="post" class="flex flex-col md:flex-row gap-3 max-w-lg mx-auto">
        <input type="hidden" name="contact[tags]" value="newsletter">
        <input
          type="email"
          name="contact[email]"
          placeholder="{{ 'homepage.newsletter_placeholder' | t }}"
          required
          class="flex-1 px-4 py-2 border border-[#ECC689] rounded-full focus:outline-none focus:ring-2 focus:ring-[#ECC689]"
        >
        <button
          type="submit"
          class="bg-[#ecc689] text-white px-6 py-2 font-medium rounded-full hover:bg-[#F9E2A9] transition"
        >
          {{ 'homepage.subscribe' | t }}
        </button>
      </form>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const isRTL = '{{ request.locale.iso_code }}' === 'ar';

    new Swiper('.newProductsSwiper', {
      slidesPerView: 1.2,
      spaceBetween: 16,
      rtl: isRTL,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      breakpoints: {
        640: {
          slidesPerView: 2.2,
          spaceBetween: 20,
        },
        768: {
          slidesPerView: 3.2,
          spaceBetween: 24,
        },
        1024: {
          slidesPerView: 4,
          spaceBetween: 24,
        },
      },
    });

    new Swiper('.testimonialsSwiper', {
      slidesPerView: 1,
      spaceBetween: 24,
      rtl: isRTL,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      breakpoints: {
        768: {
          slidesPerView: 2,
          spaceBetween: 24,
        },
        1024: {
          slidesPerView: 3,
          spaceBetween: 24,
        },
      },
    });
  });
</script>
{% schema %}
{
  "name": "Homepage",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "image_picker",
      "id": "background_image_en",
      "label": "Background Image (English)"
    },
    {
      "type": "image_picker",
      "id": "background_image_ar",
      "label": "Background Image (Arabic)"
    },
    {
      "type": "text",
      "id": "heading_en",
      "label": "Heading (English)",
      "default": "Discover Timeless Elegance"
    },
    {
      "type": "text",
      "id": "heading_ar",
      "label": "Heading (Arabic)",
      "default": "اكتشف الأناقة الخالدة"
    },
    {
      "type": "text",
      "id": "subheading_en",
      "label": "Subheading (English)",
      "default": "Luxury meets sophistication"
    },
    {
      "type": "text",
      "id": "subheading_ar",
      "label": "Subheading (Arabic)",
      "default": "الفخامة تلتقي بالرقي"
    },
    {
      "type": "text",
      "id": "button_text_en",
      "label": "Button Text (English)",
      "default": "Shop Collection"
    },
    {
      "type": "text",
      "id": "button_text_ar",
      "label": "Button Text (Arabic)",
      "default": "تسوق المجموعة"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link",
      "default": "/collections/all"
    },
    {
      "type": "header",
      "content": "Featured Collections"
    },
    {
      "type": "text",
      "id": "collections_heading_en",
      "label": "Collections Heading (English)",
      "default": "Shop By Category"
    },
    {
      "type": "text",
      "id": "collections_heading_ar",
      "label": "Collections Heading (Arabic)",
      "default": "تسوق حسب الفئة"
    },
    {
      "type": "collection",
      "id": "collection_1",
      "label": "Collection 1"
    },
    {
      "type": "collection",
      "id": "collection_2",
      "label": "Collection 2"
    },
    {
      "type": "collection",
      "id": "collection_3",
      "label": "Collection 3"
    },
    {
      "type": "header",
      "content": "Values Section"
    },
    {
      "type": "text",
      "id": "values_heading_en",
      "label": "Values Heading (English)",
      "default": "Why Choose Us"
    },
    {
      "type": "text",
      "id": "values_heading_ar",
      "label": "Values Heading (Arabic)",
      "default": "لماذا تختارنا"
    },
    {
      "type": "text",
      "id": "value_1_title_en",
      "label": "Value 1 Title (English)",
      "default": "Premium Quality"
    },
    {
      "type": "text",
      "id": "value_1_title_ar",
      "label": "Value 1 Title (Arabic)",
      "default": "جودة عالية"
    },
    {
      "type": "textarea",
      "id": "value_1_text_en",
      "label": "Value 1 Text (English)",
      "default": "Handpicked materials and expert craftsmanship in every piece"
    },
    {
      "type": "textarea",
      "id": "value_1_text_ar",
      "label": "Value 1 Text (Arabic)",
      "default": "مواد منتقاة بعناية وحرفية متقنة في كل قطعة"
    },
    {
      "type": "text",
      "id": "value_2_title_en",
      "label": "Value 2 Title (English)",
      "default": "Timeless Design"
    },
    {
      "type": "text",
      "id": "value_2_title_ar",
      "label": "Value 2 Title (Arabic)",
      "default": "تصميم خالد"
    },
    {
      "type": "textarea",
      "id": "value_2_text_en",
      "label": "Value 2 Text (English)",
      "default": "Classic styles that transcend trends and last for years"
    },
    {
      "type": "textarea",
      "id": "value_2_text_ar",
      "label": "Value 2 Text (Arabic)",
      "default": "تصاميم كلاسيكية تتجاوز الموضة وتدوم لسنوات"
    },
    {
      "type": "text",
      "id": "value_3_title_en",
      "label": "Value 3 Title (English)",
      "default": "Exceptional Service"
    },
    {
      "type": "text",
      "id": "value_3_title_ar",
      "label": "Value 3 Title (Arabic)",
      "default": "خدمة استثنائية"
    },
    {
      "type": "textarea",
      "id": "value_3_text_en",
      "label": "Value 3 Text (English)",
      "default": "Dedicated support and care for every customer"
    },
    {
      "type": "textarea",
      "id": "value_3_text_ar",
      "label": "Value 3 Text (Arabic)",
      "default": "دعم ورعاية مخصصة لكل عميل"
    },
    {
      "type": "header",
      "content": "Testimonials"
    },
    {
      "type": "text",
      "id": "testimonials_heading_en",
      "label": "Testimonials Heading (English)",
      "default": "What Our Customers Say"
    },
    {
      "type": "text",
      "id": "testimonials_heading_ar",
      "label": "Testimonials Heading (Arabic)",
      "default": "ماذا يقول عملاؤنا"
    },
    {
      "type": "textarea",
      "id": "testimonial_1_text_en",
      "label": "Testimonial 1 Text (English)",
      "default": "Absolutely stunning quality! Every piece I've purchased has exceeded my expectations."
    },
    {
      "type": "textarea",
      "id": "testimonial_1_text_ar",
      "label": "Testimonial 1 Text (Arabic)",
      "default": "جودة رائعة حقاً! كل قطعة اشتريتها فاقت توقعاتي."
    },
    {
      "type": "text",
      "id": "testimonial_1_author_en",
      "label": "Testimonial 1 Author (English)",
      "default": "Sarah M."
    },
    {
      "type": "text",
      "id": "testimonial_1_author_ar",
      "label": "Testimonial 1 Author (Arabic)",
      "default": "سارة م."
    },
    {
      "type": "textarea",
      "id": "testimonial_2_text_en",
      "label": "Testimonial 2 Text (English)",
      "default": "The attention to detail is remarkable. I always receive compliments on my purchases."
    },
    {
      "type": "textarea",
      "id": "testimonial_2_text_ar",
      "label": "Testimonial 2 Text (Arabic)",
      "default": "الاهتمام بالتفاصيل رائع. أتلقى دائماً إطراءات على مشترياتي."
    },
    {
      "type": "text",
      "id": "testimonial_2_author_en",
      "label": "Testimonial 2 Author (English)",
      "default": "James L."
    },
    {
      "type": "text",
      "id": "testimonial_2_author_ar",
      "label": "Testimonial 2 Author (Arabic)",
      "default": "جيمس ل."
    },
    {
      "type": "textarea",
      "id": "testimonial_3_text_en",
      "label": "Testimonial 3 Text (English)",
      "default": "Beautiful designs and exceptional customer service. My go-to for elegant pieces."
    },
    {
      "type": "textarea",
      "id": "testimonial_3_text_ar",
      "label": "Testimonial 3 Text (Arabic)",
      "default": "تصاميم جميلة وخدمة عملاء استثنائية. وجهتي المفضلة للقطع الأنيقة."
    },
    {
      "type": "text",
      "id": "testimonial_3_author_en",
      "label": "Testimonial 3 Author (English)",
      "default": "Emily R."
    },
    {
      "type": "text",
      "id": "testimonial_3_author_ar",
      "label": "Testimonial 3 Author (Arabic)",
      "default": "إيميلي ر."
    },
    {
      "type": "header",
      "content": "Newsletter"
    },
    {
      "type": "text",
      "id": "newsletter_heading_en",
      "label": "Newsletter Heading (English)",
      "default": "Stay Connected"
    },
    {
      "type": "text",
      "id": "newsletter_heading_ar",
      "label": "Newsletter Heading (Arabic)",
      "default": "ابق على تواصل"
    },
    {
      "type": "text",
      "id": "newsletter_text_en",
      "label": "Newsletter Text (English)",
      "default": "Subscribe to receive exclusive offers and updates"
    },
    {
      "type": "text",
      "id": "newsletter_text_ar",
      "label": "Newsletter Text (Arabic)",
      "default": "اشترك لتلقي العروض الحصرية والتحديثات"
    }
  ]
}
{% endschema %}
